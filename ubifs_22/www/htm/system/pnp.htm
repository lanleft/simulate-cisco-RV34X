<div ng-controller="PnPCtrl" id="pnp">
	<form name="form" ng-modification="dataReady">
        <div ng-if="dataReady">
            <div class="page-title-container">
                <div class="page-title" ng-bind="DICT('PnP')"></div>
                <div class="page-button-container">
                    <button type="button" class="btn-apply" ng-click="funs.save()" ng-disabled="userAccessFlag === 'RO' || form.$invalid">
                        <span ng-bind="DICT('PnP_Apply')"></span>
                    </button>
                    <button type="button" class="btn-cancel" ng-click="funs.cancel()">
                        <span ng-bind="DICT('PnP_Cancel')"></span>
                    </button>
                </div>
            </div>
            <confirmsave ng-show="success"></confirmsave>
            <div class="page-content-container">
                <table class="page-block-tb-list control-input-300 nowrap">
                    <tr>
                        <td colspan="2">
                            <input type="checkbox" ng-model="model.pnp.enabled">
                                <span ng-bind="DICT('PnP_Enable')"></span>
                            </input>
                        </td>
                    </tr>
                    <tr>
                        <td ng-bind="DICT('Pnp_P_Transport')"></td>
                        <td>
                            <input type="radio" ng-disabled="!model.pnp.enabled" ng-model="model.pnp.mode" value="auto"></input>
                            <span ng-bind="DICT('PnP_Auto')"></span>
                            <input type="radio" ng-disabled="!model.pnp.enabled" ng-model="model.pnp.mode" value="static"></input>
                            <span ng-bind="DICT('PnP_Static')"></span>
                        </td>
                    </tr>
                    <tbody ng-show="model.pnp.mode === 'static'" ng-if="model.pnp.mode === 'static'">
                        <tr>
                            <td ng-bind="DICT('PnP_Transport')"></td>
                            <td ng-bind="model.pnp.type_str"></td>
                        </tr>
                        <tr>
                            <td ng-bind="DICT('PnP_IP_FQDN')"></td>
                            <td>
                                <input type="text" ng-disabled="!model.pnp.enabled" ng-required="model.pnp.enabled"
                                    ng-ipv4="model.pnp.enabled" ng-model="model.pnp.address"
                                ></input>
                            </td>
                        </tr>
                        <tr>
                            <td ng-bind="DICT('PnP_Port')"></td>
                            <td>
                                <input type="number" min="1" max="65535" ng-required="model.pnp.enabled"
                                    ng-disabled="!model.pnp.enabled" ng-model="model.pnp.port"
                                ></input>
                            </td>
                        </tr>
                        <tr>
                            <td ng-bind="DICT('PnP_CA')"></td>
                            <td>
                                <select ng-model="model.pnp.ca_cert" ng-disabled="!model.pnp.enabled"
                                    ng-options="m.id as m.displayName for m in model.ca"
                                    ng-required="model.pnp.enabled"
                                    style="width: 100%"
                                ></select>
                                <span ng-show="getting_ca" class="icon-loading"></span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </form>
</div>
