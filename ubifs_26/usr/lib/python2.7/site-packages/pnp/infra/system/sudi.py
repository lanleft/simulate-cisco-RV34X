################################################################################
# Copyright (c) 2015-17 by Cisco Systems, Inc.
# All rights reserved.
#
# Author: Shaurin Desai <shaurdes@cisco.com>
################################################################################
"""Secure UDI

This file provides access to the SUDI API implementation found in the
pnp_platform module. If the API implementation is not found, the PnP Server will
not be able to authenticate the PnP Device. This can lead to device provisioning
failures.

Note:
    This file should be the ONLY file to import from the SUDI API implementation
    provided by pnp_platform.infra.sudi. Any pnp files making calls to the SUDI
    API should import this file and redefine the imported objects, if necessary.

"""
from pnp.infra.api.pnp_infra import PnPInfra
try:
    from pnp_platform.infra.sudi import SUDI
    if not issubclass(SUDI, PnPInfra):
        raise ImportError("SUDI implementation does not conform to PnPInfra "
                          "API")
except ImportError:
    from pnp.infra.api.sudi import SUDI
